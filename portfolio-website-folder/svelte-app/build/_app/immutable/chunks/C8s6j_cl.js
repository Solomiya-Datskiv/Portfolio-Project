import{x as G,y as J,z as M,h as m,A as K,B as P,l as S,C as Q,H as W,D as V,E as N,F as A,G as Z,I as L,J as U,K as $,M as R,N as X,O,P as p,Q as j,R as Y,T as ee,U as ae,V as re,W as le,X as ne,Y as fe,Z as se,_ as te,$ as ve,a0 as ue,u as ie,r as _e}from"./D5IyU0r3.js";import{l as de}from"./CVxI4GAm.js";function ge(e,a){return a}function oe(e,a,r,_){for(var v=[],f=a.length,u=0;u<f;u++)re(a[u].e,v,!0);var d=f>0&&v.length===0&&r!==null;if(d){var h=r.parentNode;le(h),h.append(r),_.clear(),T(e,a[0].prev,a[f-1].next)}ne(v,()=>{for(var o=0;o<f;o++){var l=a[o];d||(_.delete(l.k),T(e,l.prev,l.next)),fe(l.e,!d)}})}function me(e,a,r,_,v,f=null){var u=e,d={flags:a,items:new Map,first:null};{var h=e;u=m?M(K(h)):h.appendChild(G())}m&&P();var o=null,l=!1,E=Q(()=>{var n=r();return ee(n)?n:n==null?[]:X(n)});J(()=>{var n=S(E),i=n.length;if(l&&i===0)return;l=i===0;let s=!1;if(m){var b=u.data===W;b!==(i===0)&&(u=V(),M(u),N(!1),s=!0)}if(m){for(var y=null,t,c=0;c<i;c++){if(A.nodeType===8&&A.data===Z){u=A,s=!0,N(!1);break}var I=n[c],x=_(I,c);t=q(A,d,y,null,I,x,c,v,a,r),d.items.set(x,t),y=t}i>0&&M(V())}m||ce(n,d,u,v,a,_,r),f!==null&&(i===0?o?L(o):o=U(()=>f(u)):o!==null&&$(o,()=>{o=null})),s&&N(!0),S(E)}),m&&(u=A)}function ce(e,a,r,_,v,f,u){var d=e.length,h=a.items,o=a.first,l=o,E,n=null,i=[],s=[],b,y,t,c;for(c=0;c<d;c+=1){if(b=e[c],y=f(b,c),t=h.get(y),t===void 0){var I=l?l.e.nodes_start:r;n=q(I,a,n,n===null?a.first:n.next,b,y,c,_,v,u),h.set(y,n),i=[],s=[],l=n.next;continue}if(he(t,b,c),(t.e.f&R)!==0&&L(t.e),t!==l){if(E!==void 0&&E.has(t)){if(i.length<s.length){var x=s[0],g;n=x.prev;var D=i[0],k=i[i.length-1];for(g=0;g<i.length;g+=1)B(i[g],x,r);for(g=0;g<s.length;g+=1)E.delete(s[g]);T(a,D.prev,k.next),T(a,n,D),T(a,k,x),l=x,n=k,c-=1,i=[],s=[]}else E.delete(t),B(t,l,r),T(a,t.prev,t.next),T(a,t,n===null?a.first:n.next),T(a,n,t),n=t;continue}for(i=[],s=[];l!==null&&l.k!==y;)(l.e.f&R)===0&&(E??(E=new Set)).add(l),s.push(l),l=l.next;if(l===null)continue;t=l}i.push(t),n=t,l=t.next}if(l!==null||E!==void 0){for(var C=E===void 0?[]:X(E);l!==null;)(l.e.f&R)===0&&C.push(l),l=l.next;var z=C.length;if(z>0){var F=d===0?r:null;oe(a,C,F,h)}}O.first=a.first&&a.first.e,O.last=n&&n.e}function he(e,a,r,_){p(e.v,a),e.i=r}function q(e,a,r,_,v,f,u,d,h,o){var l=(h&se)!==0,E=(h&te)===0,n=l?E?j(v):Y(v):v,i=(h&ae)===0?u:Y(u),s={i,v:n,k:f,a:null,e:null,prev:r,next:_};try{return s.e=U(()=>d(e,n,i,o),m),s.e.prev=r&&r.e,s.e.next=_&&_.e,r===null?a.first=s:(r.next=s,r.e.next=s.e),_!==null&&(_.prev=s,_.e.prev=s.e),s}finally{}}function B(e,a,r){for(var _=e.next?e.next.e.nodes_start:r,v=a?a.e.nodes_start:r,f=e.e.nodes_start;f!==_;){var u=ve(f);v.before(f),f=u}}function T(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Te(e,a,r=a){var _=ue();de(e,"input",v=>{var f=v?e.defaultValue:e.value;if(f=w(e)?H(f):f,r(f),_&&f!==(f=a())){var u=e.selectionStart,d=e.selectionEnd;e.value=f??"",d!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(d,e.value.length))}}),(m&&e.defaultValue!==e.value||ie(a)==null&&e.value)&&r(w(e)?H(e.value):e.value),_e(()=>{var v=a();w(e)&&v===H(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function w(e){var a=e.type;return a==="number"||a==="range"}function H(e){return e===""?null:+e}export{Te as b,me as e,ge as i};
